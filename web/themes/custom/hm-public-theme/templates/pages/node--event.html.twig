{#
/**
 * @file
 * Theme override for Event detail page
 *
 * Available variables using Paragraphs:
 * -  field_date
 * -  field_date_and_time_details
 * -  field_date_image_label
 * -  field_event_address
 * -  field_event_card_image
 * -  field_event_content_block
 * -  field_event_desciption
 * -  field_event_map
 * -  field_event_slide
 * -  field_event_type
      Post Event Content
 * -  field_display_post_event_content
 * -  field_post_event_pictures
 *
 */
#}

<div class="contextual-region">
  {{ title_prefix }}
  {{ title_suffix }}

  <section>
    <h2 class="sr-only">Share on Social Media</h2>
    <ul class="share">
      <li>
        <a href="https://www.facebook.com/sharer/sharer.php?u={{ url('<current>') }}" target="_blank">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            preserveAspectRatio="xMidYMid meet"
            viewBox="0 0 72 72"
            class="share__icon">
              <path fill-rule="evenodd" fill="#3E5F99"
              d="M72.001,36.000 C72.001,55.883 55.883,72.001 36.000,72.001 C16.116,72.001 -0.002,55.883 -0.002,36.000 C-0.002,16.116 16.116,-0.002 36.000,-0.002 C55.883,-0.002 72.001,16.116 72.001,36.000 ZM46.025,14.527 L39.445,14.527 C39.406,14.527 38.383,14.565 38.383,14.565 C34.703,14.601 32.881,16.766 32.881,16.766 C29.998,19.458 30.415,22.494 30.415,22.494 L30.415,28.336 L25.862,28.336 L25.862,35.921 L30.415,35.921 L30.415,57.471 L39.406,57.471 L39.406,35.962 L45.477,35.962 L46.008,28.298 L39.406,28.298 L39.406,23.782 C39.406,21.505 41.379,21.439 41.379,21.439 L46.025,21.439 L46.025,14.527 Z"/>
          </svg>
          <img class="share__image" src={{ file_url(content.field_event_card_image|field_target_entity.uri.value) }} alt={{ content.field_event_card_image|field_raw('alt') }} />
        </a>
      </li>
      <li>
        <a href="https://twitter.com/home?status={{ url('<current>') }}" target="_blank">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 72 72"
            class="share__icon">
              <path fill-rule="evenodd" fill="#2BACE5"
                d="M72.001,36.000 C72.001,55.883 55.885,72.002 36.000,72.002 C16.118,72.002 -0.002,55.883 -0.002,36.000 C-0.002,16.116 16.118,-0.002 36.000,-0.002 C55.885,-0.002 72.001,16.116 72.001,36.000 ZM63.755,34.582 C61.889,34.900 59.186,34.570 57.751,33.974 C60.729,33.727 62.745,32.373 63.522,30.535 C62.451,31.196 59.115,31.916 57.278,31.230 C57.184,30.797 57.086,30.387 56.983,30.015 C55.585,24.860 50.783,20.708 45.752,21.210 C46.157,21.045 46.569,20.892 46.986,20.752 C47.535,20.555 50.788,20.023 50.275,18.878 C49.841,17.867 45.872,19.637 45.124,19.870 C46.110,19.501 47.744,18.862 47.918,17.727 C46.407,17.934 44.923,18.650 43.775,19.691 C44.192,19.245 44.504,18.702 44.570,18.115 C40.538,20.696 38.183,25.892 36.277,30.936 C34.781,29.483 33.452,28.340 32.262,27.702 C28.924,25.913 24.931,24.042 18.666,21.714 C18.475,23.789 19.692,26.549 23.197,28.384 C22.439,28.281 21.048,28.510 19.940,28.775 C20.391,31.153 21.870,33.112 25.875,34.060 C24.043,34.179 23.096,34.598 22.240,35.494 C23.074,37.148 25.110,39.094 28.765,38.694 C24.698,40.449 27.106,43.699 30.415,43.215 C24.772,49.052 15.873,48.619 10.761,43.739 C24.104,61.942 53.110,54.503 57.432,36.972 C60.672,36.999 62.573,35.850 63.755,34.582 Z"/>
          </svg>
        </a>
      </li>
      <li>
        <a href="mailto:?&subject=Check out this events and program from The HistoryMakers featuring {{ node.title.value }}&body=Hello!%20I%20would%20like%20to%20share%20this%20HistoryMaker's%20story%20with%20you.%0A%0A{{ url('<current>') }}%0A%0ACheck%20out%20more%20stories%20at%20https%3A//thehistorymakers.org">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 72 72"
            class="share__icon">
              <path fill-rule="evenodd" fill="#7FBC61"
                d="M72.001,36.000 C72.001,55.882 55.883,72.001 36.000,72.001 C16.116,72.001 -0.002,55.882 -0.002,36.000 C-0.002,16.115 16.116,-0.002 36.000,-0.002 C55.883,-0.002 72.001,16.115 72.001,36.000 ZM56.045,23.334 L15.954,23.334 L15.954,23.613 C15.954,23.937 16.241,24.604 16.474,24.827 L35.999,43.402 L55.524,24.827 C55.758,24.607 56.044,23.937 56.045,23.613 L56.045,23.334 ZM56.045,41.209 L56.045,29.532 L49.907,35.372 L56.045,41.209 ZM15.954,41.209 L22.092,35.372 L15.954,29.532 L15.954,41.209 ZM15.954,48.664 L56.045,48.664 L56.045,47.130 C56.045,46.807 55.758,46.137 55.523,45.914 L47.174,37.972 L38.404,46.314 C37.758,46.929 36.904,47.268 36.000,47.268 C35.095,47.268 34.241,46.929 33.594,46.314 L24.825,37.972 L16.475,45.914 C16.242,46.137 15.955,46.807 15.954,47.130 L15.954,48.664 Z"/>
          </svg>
        </a>
      </li>
    </ul>
  </section>
  {# End Social Media Share #}

  <div class="row">
    <div class="col-sm-12 column">
      {{ content.banner }}

      {# Carousel #}
      <div class="event-carousel two-column-snapshot-carousel carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          {% if content.field_event_slide|field_value is not empty %}
            {% for item in content.field_event_slide|field_value %}
              <div class="carousel-item">
                <div class="hero-slide--date">
                  {{ content.field_date_image_label|field_value }}
                </div>
                {{ item }}
              </div>
            {% endfor %}
          {% endif %}
        </div>
        {# Pager #}
        {% if content.field_event_slide|length > 17 %}
          <div class="centered-carousel-indicators carousel-indicators" role="menu">
            {% for list in content.field_event_slide['#items'] %}
              {% set item_classes = [start_index == loop.index0 ? 'active'] %}
              <a {{ item.attributes.addClass(item_classes) }} data-target="{{ target }}" data-slide-to="{{ loop.index0 }}" href=".event-carousel"></a>
            {% endfor %}
          </div>
        {% endif %}{# Close Pager #}
      </div>{# Close Carousel #}
    </div>
  </div>{# Close one column #}

  <div class="row layout--1-2col-9-3 event__content">
    <div class="col-sm-12 col-md column first event__info">
      {{ content.left_9 }}

      {# Video #}
      {% if content.field_post_event_video_url|field_value is not empty %}
        {{ drupal_block('hero_video_player_block', {video_url: content.field_post_event_video_url|field_value, hero_title: content.	field_post_event_video_title|field_value, hero_desc: 	content.field_post_event_video_descript|field_value}) }}
      {% endif %}

      <h2>{{ content.field_body|field_label }}</h2>
      <div class="event__bio">
        {{ content.field_body|field_value }}
      </div>

        {# Event Content Block 1 #}
        {% if content.field_event_content_block	|field_value is not empty %}
          {% for item in content.field_event_content_block	|field_value %}
            {{ item }}
          {% endfor %}
        {% endif %}

        {# Note: moved the video block from here to the top.  The two event content blocks were in place originally to allow the video to dissect the content #}

        {# Event Content Block 2 #}
        {% if content.field_event_content_block_2	|field_value is not empty %}
          {% for item in content.field_event_content_block_2	|field_value %}
            {{ item }}
          {% endfor %}
        {% endif %}
    </div>

    <div class="col-sm-12 col-md-3 column last">
      {{ content.right_3 }}
      <div class="event__date-and-time">
        <h2>Date and Time</h2>
        {{ content.field_date|field_value }}
        {{ content.field_date_and_time_details|field_value }}
      </div>
      {% if content.field_event_address|field_value is not empty %}
        {% for item in content.field_event_address|field_value %}
          <div class="event__location">
            <h2>Location</h2>
            {{ content.field_address|field_value }}
            {{ content.field_event_address|field_value }}
            {# {{ content.field_event_map|field_value }} #}
          </div>
        {% endfor %}
      {% endif %}
    </div>
  </div>

  {% if content.field_display_post_event_content|field_raw('value')|number_format(0,'.',',') is same as('1') %}

    {# Show Post Event Pictures #}
    <div class="row event__pictures">
      <div class="col-sm-12 column px-4 my-4">
        <div class="collage event__collage">
          {{ content.field_post_event_pictures|field_value }}
        </div>
      </div>
    </div>
  {% endif %}

</div>{# <div class="contextual-region"> #}

<script>
  $(document).ready(function () {
    $('.event-carousel').find('.carousel-item').first().addClass('active');
  });
</script>
