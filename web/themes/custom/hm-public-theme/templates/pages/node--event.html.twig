{#
/**
 * @file
 * Theme override for Event detail page
 *
 * Available variables using Paragraphs:
 * -  field_event_type
 * -  field_date
 * -  field_date_and_time_details
 * -  field_address
 * -  field_event_image
 * -  field_hon_guest02 (honarary guest)
 * -  field_insert_images
 * -  field_hon_bio01
 * -  field_event_chair
 * -  field_hon_chair
 * -  field_benefit_committee
 * -  field_events_sponsors
 * -  field_event_title_sponsor
 *
 */
#}

{{ drupal_dump(content) }}

<div class="contextual-region">
  {{ title_prefix }}
  {{ title_suffix }}

  <div class="row">
    <div class="col-sm-12 column">
      {{ content.banner }}
      {# Carousel #}
      <div class="two-column-snapshot-carousel carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          {{ content.field_two_column_snapshot }}
        </div>
          {# Pager #}
          {% if content.field_two_column_snapshot|length > 17 %}
            <div class="centered-carousel-indicators carousel-indicators" role="menu">
              {% for list in content.field_two_column_snapshot['#items'] %}
                {% set item_classes = [start_index == loop.index0 ? 'active'] %}
                <a {{ item.attributes.addClass(item_classes) }} data-target="{{ target }}" data-slide-to="{{ loop.index0 }}" href=".two-column-snapshot-carousel"></a>
              {% endfor %}
            </div>
          {% endif %}
      </div>{# Close Carousel #}
    </div>
  </div>

  <div class="row layout--1-2col-9-3 events__content">
    <div class="col-sm-12 col-md-9 column first events__info">
      {{ content.left_9 }}
      <h2>Description</h2>
      {{ content.field_hon_bio01|field_value }}

      {# Honorary Chair #}  
        {% if content.field_hon_cochair|field_value is not empty %}  
        <div class="accordion-block accordion">
          <button class="accordion__panel collapsed" type="button" data-toggle="collapse" data-target="#field_hon_cochair" aria-expanded="false" aria-controls="field_hon_cochair">
            Honarary Chair
            <span class="accordion__arrow">
              <span class="accordion__arrow-half"></span>
              <span class="accordion__arrow-half"></span>
            </span>
          </button>

          <div class="collapse accordion__body" id="field_hon_cochair">
            <div>
              {{ content.field_hon_cochair|field_value }}
            </div>
          </div>
        </div>
      {% endif %}

      {# Chair #}   
      {% if content.field_chair|field_value is not empty %} 
        <div class="accordion-block accordion">
          <button class="accordion__panel collapsed" type="button" data-toggle="collapse" data-target="#field_chair" aria-expanded="false" aria-controls="field_chair">
            Chair
            <span class="accordion__arrow">
              <span class="accordion__arrow-half"></span>
              <span class="accordion__arrow-half"></span>
            </span>
          </button>

          <div class="collapse accordion__body" id="field_chair">
            <div>
              {{ content.field_chair|field_value }}
            </div>
          </div>
        </div> 
      {% endif %}

      {# Co-chairs #}  
      {% if content.field_co_chairs|field_value is not empty %} 
        <div class="accordion-block accordion">
          <button class="accordion__panel collapsed" type="button" data-toggle="collapse" data-target="#field_co_chairs" aria-expanded="false" aria-controls="field_co_chairs">
            Co-chairs
            <span class="accordion__arrow">
              <span class="accordion__arrow-half"></span>
              <span class="accordion__arrow-half"></span>
            </span>
          </button>

          <div class="collapse accordion__body" id="field_co_chairs">
            <div>
              {{ content.field_co_chairs|field_value }}
            </div>
          </div>
        </div> 
      {% endif %}

      {# Benefit Committee #}   
      {% if content.field_benefit_committee|field_value is not empty %} 
        <div class="accordion-block accordion">
          <button class="accordion__panel collapsed" type="button" data-toggle="collapse" data-target="#field_benefit_committee" aria-expanded="false" aria-controls="field_benefit_committee">
            Benefit Committee
            <span class="accordion__arrow">
              <span class="accordion__arrow-half"></span>
              <span class="accordion__arrow-half"></span>
            </span>
          </button>

          <div class="collapse accordion__body" id="field_benefit_committee">
            <div>
              {{ content.field_benefit_committee|field_value }}
            </div>
          </div>
        </div>   
      {% endif %}               
    </div>

    <div class="col-sm-12 col-md-3 column last">
      {{ content.right_3 }}
      <div class="events__date-and-time">
        <h2>Date and Time</h2>
        {{ content.field_date|field_value }}
        <p>Doors open at {{time}}</p>
        <p>Taping starts at {{ time }}</p>
        {{ content.field_date_and_time_details|field_value }}
      </div>
      <div class="events__location">
        <h2>Location</h2>
        {{ content.field_address|field_value }}
      </div>      
    </div>

  </div>
</div>{# Closed contextual-region #}

<script>
$(document).ready(function () {
  $('.two-column-snapshot-carousel').find('.field-item').addClass('carousel-item');
  $('.two-column-snapshot-carousel').find('.field-item').first().addClass('active');
});
</script>
