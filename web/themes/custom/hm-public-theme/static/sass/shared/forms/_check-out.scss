//Headers
.layout-checkout-form .checkout-pane .fieldgroup .form-required,
.layout-checkout-form .checkout-pane,
.layout-checkout-form .checkout-pane .fieldgroup {
  @extend %form--header;
}

.checkout-pane.checkout-pane-login {
  @extend %max-width;
  @extend %default-gutter-width;
}

.layout-region.layout-region-checkout-main,
.layout-region.layout-region-checkout-secondary {
  display: flex;
  flex: 1;
  flex-direction: column;
  padding-right: 0;
  width: 100%;

  .form-wrapper .form-wrapper {
    width: 100%;
  }

}

//Checkout Form
.layout-checkout-form {
  @extend %default-gutter-width;
  @extend %form--container;
  display: flex;
  flex-direction: column;
  margin-left: auto;
  margin-right: auto;
  width: 100%;

  //Contact Info
  .form-item.form-item-contact-information-email.form-type-email {
    @extend %form-field--wrap;
    flex-basis: 100%;
  
    #edit-contact-information-email {
      width: 100%;
    }
  
  }

  //Shipping information
  .checkout-pane.checkout-pane-shipping-information {
    margin-bottom: 30px;
  }

  #edit-shipping-information-shipping-profile-address-0-address-country-code,
  #edit-shipping-information-shipping-profile-address-0-address-container4 {
    display: flex;

    .form-item-shipping-information-shipping-profile-address-0-address-country-code.form-type-select,
    .form-item-shipping-information-shipping-profile-address-0-address-administrative-area.form-type-select {
      @extend %form-field--wrap;
    }

  }

  //Shipping method
  .field--type-entity-reference.field--name-shipping-method.field--widget-commerce-shipping-rate {
    border-top: 1px solid color(medium-grey);
    padding-top: 15px;
  }

  #edit-shipping-information-shipping-profile-address-0-address-country-code {
    
    .form-item.form-item-shipping-information-shipping-profile-address-0-address-country-code.form-type-select {
      flex-basis: 100%;
    }

    .country.form-select,
    .organization.form-text,
    .address-line1.form-text,
    .address-line2.form-text {
      width: 100%;
    }

  }

  //Payment Information
  #payment-information-wrapper {

    #edit-payment-information legend {
      border-top: 1px solid color(medium-grey);
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      padding-top: 15px;
    }

    .form-item-payment-information-add-payment-method-payment-details-number,
    #edit-payment-information-add-payment-method-payment-details-expiration,
    .form-item-payment-information-add-payment-method-payment-details-security-code {
      flex: 1;
    }

    #edit-payment-information-add-payment-method-billing-information-address-0-address-country-code {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }

    .form-item-payment-information-add-payment-method-billing-information-address-0-address-country-code {
      @extend %form-field--wrap;
      flex-basis: 100%;
    }

    .country.form-select,
    .organization.form-text,
    .address-line1.form-text,
    .address-line2.form-text {
      width: 100%;
    }

    .form-item-payment-information-add-payment-method-billing-information-address-0-address-administrative-area {
      @extend %form-field--wrap;
    }

    .form-item-payment-information-add-payment-method-billing-information-address-0-address-postal-code {
      max-width: none;
    }

  }

  .checkout-pane.checkout-pane-payment-information .fieldset-wrapper {

    & #edit-payment-information-payment-method--wrapper > legend .fieldset-legend,
    & .form-composite > legend .fieldset-legend {
      @extend %source-sans-semi-bold;
      flex-basis: 100%;
      font-size: 16px;
      line-height: normal;
      margin-bottom: 10px;
    }

  }

  #edit-payment-information-add-payment-method .authorize-net-accept-js-form {
    border-top: 0;
  }

  //Order Summary
  .layout-region.layout-region-checkout-secondary h3 {
    border-top: 1px solid color(medium-grey);
    color: color(quaternary);
    padding-top: 15px;
  }

  table.cols-0 {
    width: 100%;
  }

  .view.list-commerce-checkout-order-summary table tr {
    @extend %product-card;
    flex-direction: row;
    margin: 15px 0;
    vertical-align: top;

    td {
      padding-right: 15px;
    }

    td.views-field.views-field-purchased-entity {
      display: flex;
      flex: 1;
      flex-direction: row;
      flex-wrap: wrap;
    }

    td.views-field.views-field-purchased-entity > div {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }

    .price {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      margin-right: 30px;
    }

    .field-format {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }

    .field-format .field-items {
      padding-left: 10px;
    }

    .views-field-quantity,
    .views-field-purchased-entity .price > div:first-of-type,
    .views-field-total-price__number,
    .views-field-purchased-entity .field-format > div:first-of-type {
      font-weight: bold;
      padding-right: 10px;
    }

  }

  .total-price {
    @extend %shopping-card;
    margin: 30px 0;

    @media all and ( min-width: $screen-md-min) {
      .field-item:last-of-type {
        margin-right: 15px;
      }

    }

  }

}//.layout-checkout-form

//Review
#edit-review > fieldset {
  @extend %form--header;
}

.layout-region-checkout-footer #edit-actions > a,
#edit-login-returning-customer-submit + a {
  align-self: center;
}

//Login > User or Guest
.commerce-checkout-flow-multistep-default.commerce-checkout-flow {

  #edit-login {
    padding: 0;
  }

  #edit-login-returning-customer {
    border-right: 1px solid color(medium-grey);
    margin-right: 15px;
    padding-right: $default-grid-gutter-width;
  }

  #edit-login-guest {
    margin-left: 15px;
    margin-right: 0;
  }

}
